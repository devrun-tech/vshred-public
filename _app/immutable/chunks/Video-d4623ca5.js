import{_ as M,w as j}from"./preload-helper-1e97f2d7.js";import{S as N,i as G,s as J,e as p,k as A,c as b,a as T,d as _,m as O,b as l,Z as q,a0 as K,g as L,J as v,R as k,T as Y,E as D,V as U,v as Z,a1 as B,a2 as H,a3 as Q,L as W,t as X,h as $,a4 as ee}from"./index-f472546d.js";function te(i){let s;return{c(){s=X("CLICK TO PLAY")},l(e){s=$(e,"CLICK TO PLAY")},m(e,n){L(e,s,n)},d(e){e&&_(s)}}}function se(i){let s,e;return{c(){s=p("img"),this.h()},l(n){s=b(n,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),this.h()},h(){q(s.src,e="/img/icons/play.svg")||l(s,"src",e),l(s,"alt","play"),l(s,"width","77"),l(s,"height","77"),l(s,"class","svelte-1hab141")},m(n,u){L(n,s,u)},d(n){n&&_(s)}}}function ae(i){let s,e,n,u,g=!1,V,y=!0,d,h,c,m,a,o,x,S,C;function z(){cancelAnimationFrame(V),e.paused||(V=H(z),g=!0),i[12].call(e)}function E(t,r){return t[2]?se:te}let I=E(i),f=I(i);return{c(){s=p("div"),e=p("video"),n=p("track"),d=A(),h=p("div"),c=p("div"),f.c(),m=A(),a=p("div"),o=p("img"),this.h()},l(t){s=b(t,"DIV",{class:!0});var r=T(s);e=b(r,"VIDEO",{poster:!0,src:!0,controlslist:!0,class:!0});var w=T(e);n=b(w,"TRACK",{kind:!0}),w.forEach(_),d=O(r),h=b(r,"DIV",{class:!0});var F=T(h);c=b(F,"DIV",{class:!0});var P=T(c);f.l(P),P.forEach(_),m=O(F),a=b(F,"DIV",{class:!0});var R=T(a);o=b(R,"IMG",{src:!0,width:!0,height:!0,alt:!0}),R.forEach(_),F.forEach(_),r.forEach(_),this.h()},h(){l(n,"kind","captions"),l(e,"poster",i[1]),q(e.src,u=i[0])||l(e,"src",u),l(e,"controlslist","nodownload"),l(e,"class","svelte-1hab141"),l(c,"class","paused-content svelte-1hab141"),K(c,"paused",!i[3]),q(o.src,x="/img/icons/fullscreen.svg")||l(o,"src",x),l(o,"width","20"),l(o,"height","20"),l(o,"alt","Fullscreen"),l(a,"class","fullscreen-btn svelte-1hab141"),l(h,"class","video-overlay svelte-1hab141"),l(s,"class","video-container svelte-1hab141")},m(t,r){L(t,s,r),v(s,e),v(e,n),i[11](e),v(s,d),v(s,h),v(h,c),f.m(c,null),v(h,m),v(h,a),v(a,o),S||(C=[k(e,"click",i[7]),k(e,"timeupdate",z),k(e,"play",i[13]),k(e,"pause",i[13]),k(e,"seeking",Y(i[10])),k(c,"click",i[7]),k(a,"click",i[8])],S=!0)},p(t,[r]){r&2&&l(e,"poster",t[1]),r&1&&!q(e.src,u=t[0])&&l(e,"src",u),!g&&r&64&&!isNaN(t[6])&&(e.currentTime=t[6]),g=!1,r&8&&y!==(y=t[3])&&e[y?"pause":"play"](),I!==(I=E(t))&&(f.d(1),f=I(t),f&&(f.c(),f.m(c,null))),r&8&&K(c,"paused",!t[3])},i:D,o:D,d(t){t&&_(s),i[11](null),f.d(),S=!1,U(C)}}}function ie(i,s,e){let n,u,g=D,V=()=>(g(),g=ee(o,t=>e(6,u=t)),o);i.$$.on_destroy.push(()=>g());let{showContent:y=!1}=s,{videoSrc:d=""}=s,{thumbnailImage:h=""}=s,{playIcon:c=!1}=s,m=!0,a=null,o,x=!1;async function S(){if(!a)return;if(d.substring(d.lastIndexOf(".")+1)==="m3u8"&&!x){const{default:r}=await M(()=>import("./hls-0886d4d3.js").then(function(w){return w.h}),["chunks/hls-0886d4d3.js","chunks/_commonjsHelpers-15fb5e92.js"]);if(r.isSupported()){const w=new r;w.loadSource(d),w.attachMedia(a)}else a.canPlayType("application/vnd.apple.mpegurl")&&e(4,a.src=d,a);x=!0}m?(a.play(),e(3,m=!1)):(a.pause(),e(3,m=!0))}function C(){if(!a)return;(a.requestFullscreen||a.webkitRequestFullScreen||a.mozRequestFullScreen||a.msRequestFullscreen).call(a)}Z(async()=>{!a||(e(4,a.controls=!1,a),V(e(5,o=j(Number(localStorage.getItem(n)||"")))),o.subscribe(t=>localStorage.setItem(n,t.toString())),x=!1)}),B(async()=>{e(9,y=u>5)});function z(t){Q.call(this,i,t)}function E(t){W[t?"unshift":"push"](()=>{a=t,e(4,a)})}function I(){u=this.currentTime,o.set(u)}function f(){m=this.paused,e(3,m)}return i.$$set=t=>{"showContent"in t&&e(9,y=t.showContent),"videoSrc"in t&&e(0,d=t.videoSrc),"thumbnailImage"in t&&e(1,h=t.thumbnailImage),"playIcon"in t&&e(2,c=t.playIcon)},i.$$.update=()=>{i.$$.dirty&1&&(n=`currentTime ${d}`)},[d,h,c,m,a,o,u,S,C,y,z,E,I,f]}class re extends N{constructor(s){super(),G(this,s,ie,ae,J,{showContent:9,videoSrc:0,thumbnailImage:1,playIcon:2})}}export{re as V};
